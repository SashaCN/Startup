let activePopup,filterName,offset,scrollPrecent,screenSize,rMBg,rMP,showedCite,parentPadding,number,clearCiteInterval,aboutUsText=document.querySelector(".about-us-line"),burger=document.querySelector(".burger-menu"),burgerMenu=document.querySelector(".menu"),menuLine=document.querySelector(".line-menu"),registration=document.querySelector(".registration"),popup=document.querySelector(".popup"),popupForm=document.querySelector(".popup-form"),closePopup=document.querySelectorAll(".close-popup"),left=document.querySelector(".str-left"),right=document.querySelector(".str-right"),peopleSlider=document.querySelector(".people-line"),peoples=document.querySelectorAll(".people"),peopleWidth=peoples[0].clientWidth,peopleSliderWidth=peopleSlider.getBoundingClientRect().width,filter=document.querySelectorAll(".filter"),filterImages=document.querySelectorAll(".l-w-photo"),button=document.querySelector(".scroll-button"),down=document.querySelector(".scroll-down-button"),block=document.querySelector("header"),registrForm=document.querySelector(".registr"),slideButton=document.querySelectorAll(".slide-button"),readMore=document.querySelectorAll(".read-more"),popupReadMore=document.querySelector(".popup-read-more"),cite=document.querySelectorAll(".cite"),lCallPopup=document.querySelector(".call-popup"),lPopup=document.querySelector(".l-popup"),lPopupForm=document.querySelector(".l-popup-form"),name=document.querySelector("#name"),email=document.querySelector("#email"),subject=document.querySelector("#subject"),companyName=document.querySelector("#company-name"),message=document.querySelector("#message"),registrInputs=[name,email,subject,companyName,message],nameCheck=document.querySelector(".name-check"),emailCheck=document.querySelector(".email-check"),subjectCheck=document.querySelector(".subject-check"),companyNameCheck=document.querySelector(".company-name-check"),messageCheck=document.querySelector(".message-check"),registrCheckInputs=[nameCheck,emailCheck,subjectCheck,companyNameCheck,messageCheck];function menu(){"false"==burger.getAttribute("data-active-check")?(burger.dataset.activeCheck="true",menuLine.classList.add("burger-menu-active"),burgerMenu.style.display="block"):"true"==burger.getAttribute("data-active-check")&&(burger.dataset.activeCheck="false",menuLine.classList.remove("burger-menu-active"),burgerMenu.style.display="none",burgerMenu.removeAttribute("style"))}function popupOpen(e){e.preventDefault(),popup.style.display="block",popup.classList.add("active-popup"),activePopup=document.querySelector(".active-popup"),activePopup.onclick=checkClick}function popupClose(){activePopup.style.display="none",activePopup.classList.remove("active-popup")}function checkClick(e){activePopup.firstElementChild.contains(e.target)||(activePopup.style.display="none",activePopup.classList.remove("active-popup"))}function peopleLeft(e){e.preventDefault(),peopleSliderWidth=Math.floor(peopleSliderWidth),0==peopleSlider.scrollLeft?peopleSlider.scroll(peopleSliderWidth,0):peopleSlider.scroll(peopleSlider.scrollLeft-peopleWidth,0)}function peopleRight(e){e.preventDefault(),peopleSliderWidth=Math.floor(peopleSliderWidth),peopleSlider.scrollLeft==(peoples.length-4)*peopleWidth?peopleSlider.scroll(0,0):peopleSlider.scroll(peopleSlider.scrollLeft+peopleWidth,0)}function filtration(e){e.preventDefault(),filterName=this.textContent,filterImages.forEach(e=>{"All"==filterName||e.classList.contains(filterName)?e.style.display="block":e.style.display="none"})}function showButton(){offset=window.pageYOffset,offset>block.offsetHeight&&(button.style.display="flex"),offset<=block.offsetHeight&&(button.style.display="none")}function scrollUp(){offset=window.pageYOffset-20,window.scrollTo(0,offset),showButton(),offset>block.offsetTop&&setTimeout(()=>{scrollUp()},1)}function scrollDown(){offset=window.pageYOffset+20,window.scrollTo(0,offset),showButton(),offset<registrForm.offsetTop&&setTimeout(()=>{scrollDown()},1)}function readMoreOpen(e){e.preventDefault(),popupReadMore.innerHTML='\n  <div class="read-more-bg popup">\n    <article class="read-more-popup popup-form">\n      <span class="close-popup"></span>\n      <h2>read more</h2>\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ullam ducimus ea, eligendi consequatur perspiciatis, atque, dolorum reprehenderit nisi nihil itaque natus. Alias, provident. Architecto praesentium dignissimos, ipsum ducimus soluta nulla dolore deserunt animi molestiae ex at esse vitae, nobis dolor suscipit maxime. Iusto aut nostrum obcaecati earum pariatur quibusdam asperiores!</p>\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque nesciunt eius deserunt maxime autem expedita rem mollitia, et soluta earum.</p>\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sapiente commodi nesciunt rerum, fugit laudantium alias doloremque animi labore error magnam quia facere doloribus facilis quos unde suscipit iure aliquid odit possimus, aliquam, provident! Voluptate, atque quibusdam harum quas iure, delectus.</p>\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Placeat molestiae iusto atque omnis laborum, est ut enim, ratione magni sunt odit reprehenderit facilis? Nostrum modi delectus voluptate maxime, omnis obcaecati.</p>\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reiciendis nemo assumenda iste recusandae tenetur mollitia voluptatibus error quia optio incidunt sapiente quod dolorum voluptatem odio nihil, at cupiditate! Eligendi, quis aperiam sit, iste et adipisci. Explicabo tempora vitae quia natus, eaque labore itaque quidem, ipsum nostrum sit rerum animi modi ad. Accusantium unde blanditiis, fugit quae odio dolor facilis. Quidem sequi tenetur tempore, natus assumenda a eius velit voluptatem, aliquid sit nostrum mollitia maiores nesciunt quasi, distinctio ipsum qui vero eligendi cumque. Repellat soluta ad atque voluptas sequi officiis et itaque? Placeat voluptatem, porro, qui magni repellendus odit illum necessitatibus rerum officia quaerat reiciendis mollitia ipsum eligendi fugit quo obcaecati distinctio dicta tenetur. Blanditiis rem autem facere est esse sint, quisquam qui eos beatae modi accusantium perferendis voluptatibus vel iusto ducimus non ad, totam incidunt. Eos at debitis eaque fuga amet molestiae laudantium, ut vitae, dicta incidunt velit excepturi placeat.</p>\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Soluta, alias.</p>\n    </article>\n  </div>',rMBg=document.querySelector(".read-more-bg"),rMP=document.querySelector(".read-more-popup"),closePopup=document.querySelectorAll(".close-popup"),rMBg.style.display="block",rMBg.classList.add("active-popup"),activePopup=document.querySelector(".active-popup"),activePopup.onclick=checkClick,closePopup.forEach(e=>{e.onclick=popupClose})}burger.dataset.activeCheck="false",burger.onclick=menu,registration.onclick=popupOpen,closePopup.forEach(e=>{e.onclick=popupClose}),left.onclick=peopleLeft,right.onclick=peopleRight,filter.forEach(e=>{e.onclick=filtration}),window.onwheel=showButton,button.onclick=scrollUp,down.onclick=scrollDown,readMore.forEach(e=>{e.onclick=readMoreOpen}),slideButton.forEach(e=>{e.onclick=showCite}),cite[0].classList.add("showed-cite"),slideButton[0].style.backgroundColor="#c0301c",cite[0].parentElement.style.height=cite[0].clientHeight+"px";for(let e=0;e<cite.length;e++)cite[e].dataset.number=e,slideButton[e].dataset.digit=e;function citeInterval(){clearCiteInterval=setInterval(()=>{showedCite=document.querySelector(".showed-cite"),showedCite.classList.remove("showed-cite"),null==showedCite.nextElementSibling?(showedCite.parentElement.firstElementChild.classList.add("showed-cite"),parentPadding=showedCite.parentElement.firstElementChild.clientHeight,number=showedCite.parentElement.firstElementChild.getAttribute("data-number")):(showedCite.nextElementSibling.classList.add("showed-cite"),parentPadding=showedCite.nextElementSibling.clientHeight,number=showedCite.nextElementSibling.getAttribute("data-number")),showedCite.parentElement.style.height=parentPadding+"px";for(let e=0;e<cite.length;e++)slideButton[e].getAttribute("data-digit")==number&&(slideButton[e].style.backgroundColor="#c0301c",e-1<0?slideButton[slideButton.length-1].style.backgroundColor="#ddd":slideButton[e-1].style.backgroundColor="#ddd")},5e3)}function showCite(){clearInterval(clearCiteInterval),showedCite=document.querySelector(".showed-cite"),showedCite.classList.remove("showed-cite"),slideButton.forEach(e=>{showedCite.getAttribute("data-number")==e.getAttribute("data-digit")&&(e.style.backgroundColor="#ddd")}),this.style.backgroundColor="#c0301c",cite.forEach(e=>{e.getAttribute("data-number")==this.getAttribute("data-digit")&&(console.log("adasf"),e.classList.add("showed-cite"),showedCite=document.querySelector(".showed-cite"),showedCite.parentElement.style.height=showedCite.clientHeight+"px",citeInterval())})}function lPopupOpen(e){for(e.preventDefault(),i=0;i<registrInputs.length;i++){if(""==registrInputs[i].value){registrInputs[i].style.borderColor="#c0301c",lPopup.style.display="none";break}lPopup.style.display="block",registrInputs[i].style.borderColor="#555",console.log(registrInputs[i].value),registrCheckInputs[i].value=registrInputs[i].value,lPopup.classList.add("active-popup"),activePopup=document.querySelector(".active-popup"),activePopup.onclick=checkClick}}function checkScroll(){console.log(Math.floor(window.pageYOffset)),Math.floor(window.pageYOffset)>=aboutUsText.firstElementChild.offsetTop-300&&Math.floor(window.pageYOffset)<=aboutUsText.firstElementChild.offsetTop-50&&(console.log("13"),aboutUsText.firstElementChild.classList.add("animation-left"),aboutUsText.lastElementChild.classList.add("animation-right"))}citeInterval(),lCallPopup.onclick=lPopupOpen,window.onwheel=checkScroll;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiYWN0aXZlUG9wdXAiLCJmaWx0ZXJOYW1lIiwib2Zmc2V0Iiwic2Nyb2xsUHJlY2VudCIsInNjcmVlblNpemUiLCJyTUJnIiwick1QIiwic2hvd2VkQ2l0ZSIsInBhcmVudFBhZGRpbmciLCJudW1iZXIiLCJjbGVhckNpdGVJbnRlcnZhbCIsImFib3V0VXNUZXh0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyIiwiYnVyZ2VyTWVudSIsIm1lbnVMaW5lIiwicmVnaXN0cmF0aW9uIiwicG9wdXAiLCJwb3B1cEZvcm0iLCJjbG9zZVBvcHVwIiwicXVlcnlTZWxlY3RvckFsbCIsImxlZnQiLCJyaWdodCIsInBlb3BsZVNsaWRlciIsInBlb3BsZXMiLCJwZW9wbGVXaWR0aCIsImNsaWVudFdpZHRoIiwicGVvcGxlU2xpZGVyV2lkdGgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImZpbHRlciIsImZpbHRlckltYWdlcyIsImJ1dHRvbiIsImRvd24iLCJibG9jayIsInJlZ2lzdHJGb3JtIiwic2xpZGVCdXR0b24iLCJyZWFkTW9yZSIsInBvcHVwUmVhZE1vcmUiLCJjaXRlIiwibENhbGxQb3B1cCIsImxQb3B1cCIsImxQb3B1cEZvcm0iLCJuYW1lIiwiZW1haWwiLCJzdWJqZWN0IiwiY29tcGFueU5hbWUiLCJtZXNzYWdlIiwicmVnaXN0cklucHV0cyIsIm5hbWVDaGVjayIsImVtYWlsQ2hlY2siLCJzdWJqZWN0Q2hlY2siLCJjb21wYW55TmFtZUNoZWNrIiwibWVzc2FnZUNoZWNrIiwicmVnaXN0ckNoZWNrSW5wdXRzIiwibWVudSIsImdldEF0dHJpYnV0ZSIsImRhdGFzZXQiLCJhY3RpdmVDaGVjayIsImNsYXNzTGlzdCIsImFkZCIsInN0eWxlIiwiZGlzcGxheSIsInJlbW92ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInBvcHVwT3BlbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvbmNsaWNrIiwiY2hlY2tDbGljayIsInBvcHVwQ2xvc2UiLCJlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjb250YWlucyIsInRhcmdldCIsInBlb3BsZUxlZnQiLCJNYXRoIiwiZmxvb3IiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsIiwicGVvcGxlUmlnaHQiLCJsZW5ndGgiLCJmaWx0cmF0aW9uIiwidGhpcyIsInRleHRDb250ZW50IiwiZm9yRWFjaCIsImltYWdlIiwic2hvd0J1dHRvbiIsIndpbmRvdyIsInBhZ2VZT2Zmc2V0Iiwib2Zmc2V0SGVpZ2h0Iiwic2Nyb2xsVXAiLCJzY3JvbGxUbyIsIm9mZnNldFRvcCIsInNldFRpbWVvdXQiLCJzY3JvbGxEb3duIiwicmVhZE1vcmVPcGVuIiwiaW5uZXJIVE1MIiwiZWxlbWVudCIsIm9ud2hlZWwiLCJzaG93Q2l0ZSIsImJhY2tncm91bmRDb2xvciIsInBhcmVudEVsZW1lbnQiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJpIiwiZGlnaXQiLCJjaXRlSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIm5leHRFbGVtZW50U2libGluZyIsImNsZWFySW50ZXJ2YWwiLCJjaXRlcyIsImNvbnNvbGUiLCJsb2ciLCJsUG9wdXBPcGVuIiwidmFsdWUiLCJib3JkZXJDb2xvciIsImNoZWNrU2Nyb2xsIiwibGFzdEVsZW1lbnRDaGlsZCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFTSUEsWUFRQUMsV0FNQUMsT0FDQUMsY0FDQUMsV0FJQUMsS0FDQUMsSUFFQUMsV0FDQUMsY0FDQUMsT0FDQUMsa0JBbkNBQyxZQUFjQyxTQUFTQyxjQUFjLGtCQUVyQ0MsT0FBU0YsU0FBU0MsY0FBYyxnQkFDaENFLFdBQWFILFNBQVNDLGNBQWMsU0FDcENHLFNBQVdKLFNBQVNDLGNBQWMsY0FDbENJLGFBQWVMLFNBQVNDLGNBQWMsaUJBQ3RDSyxNQUFRTixTQUFTQyxjQUFjLFVBQy9CTSxVQUFZUCxTQUFTQyxjQUFjLGVBQ25DTyxXQUFhUixTQUFTUyxpQkFBaUIsZ0JBRXZDQyxLQUFPVixTQUFTQyxj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QyxjQUMzQmIsS0FBS0MsTUFBTVcsT0FBT0MsY0FBZ0IvRSxZQUFZOEQsa0JBQWtCcUIsVUFBVSxLQUFPakIsS0FBS0MsTUFBTVcsT0FBT0MsY0FBZ0IvRSxZQUFZOEQsa0JBQWtCcUIsVUFBVSxLQUM1Sm1CLFFBQVFDLElBQUksTUFDWnZHLFlBQVk4RCxrQkFBa0JiLFVBQVVDLElBQUksa0JBQzVDbEQsWUFBWTRHLGlCQUFpQjNELFVBQVVDLElBQUksb0JBN0UvQytDLGVBaURBbkUsV0FBVzRCLFFBQVU4QyxXQXFCckIxQixPQUFPVyxRQUFVa0IiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBhYm91dFVzVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWJvdXQtdXMtbGluZVwiKSwgICAgICAvL3NpdGUgbmF2aWdhdGlvblxyXG5cclxuICAgIGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyLW1lbnVcIiksICAgICAvL2J1cmdlciBtZW51XHJcbiAgICBidXJnZXJNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51XCIpLFxyXG4gICAgbWVudUxpbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpbmUtbWVudVwiKSxcclxuICAgIHJlZ2lzdHJhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVnaXN0cmF0aW9uXCIpLCAgICAvL3BvcHVwIGNhbGwgYnV0dG9uXHJcbiAgICBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBcIiksICAgICAvL3BvcHVwIHdpdGggYmFja2dyb3VuZCBcclxuICAgIHBvcHVwRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtZm9ybVwiKSwgICAgICAvL3BvcHVwXHJcbiAgICBjbG9zZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jbG9zZS1wb3B1cFwiKSwgICAgIC8vY2xvc2UgcG9wdXBcclxuICAgIGFjdGl2ZVBvcHVwLFxyXG4gICAgbGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RyLWxlZnRcIiksICAgICAgICAvL3NsaWRlciB3aXRoIHBlb3BsZS4gc2xpZGUgbGVmdFxyXG4gICAgcmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN0ci1yaWdodFwiKSwgICAgICAgIC8vc2xpZGVyIHdpdGggcGVvcGxlLiBzbGlkZSByaWdodFxyXG4gICAgcGVvcGxlU2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wZW9wbGUtbGluZVwiKSwgXHJcbiAgICBwZW9wbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wZW9wbGVcIiksICAgICAgIFxyXG4gICAgcGVvcGxlV2lkdGggPSBwZW9wbGVzWzBdLmNsaWVudFdpZHRoLFxyXG4gICAgcGVvcGxlU2xpZGVyV2lkdGggPSBwZW9wbGVTbGlkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXHJcbiAgICBmaWx0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZpbHRlclwiKSwgICAgIC8vZmlsdGVyc1xyXG4gICAgZmlsdGVyTmFtZSxcclxuICAgIGZpbHRlckltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubC13LXBob3RvXCIpLFxyXG4gICAgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zY3JvbGwtYnV0dG9uXCIpLCAgIC8vc2Nyb2xsIGJ1dHRvblxyXG4gICAgZG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2Nyb2xsLWRvd24tYnV0dG9uXCIpLCAgICAvL3Njcm9sbCBidXR0b24gdG8gcmVnaXN0ciBmb3JtXHJcbiAgICBibG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkZXJcIiksICAgLy9ibG9jayB0byBzY3JvbGxcclxuICAgIHJlZ2lzdHJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZWdpc3RyXCIpLCAgICAvL3JlZ2lzdHIgZm9ybSB0byBzY3JvbGxcclxuICAgIG9mZnNldCxcclxuICAgIHNjcm9sbFByZWNlbnQsXHJcbiAgICBzY3JlZW5TaXplLFxyXG4gICAgc2xpZGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlLWJ1dHRvblwiKSxcclxuICAgIHJlYWRNb3JlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZWFkLW1vcmVcIiksICAgICAvL3JlYWQgbW9yZSBwb3B1cFxyXG4gICAgcG9wdXBSZWFkTW9yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtcmVhZC1tb3JlXCIpLFxyXG4gICAgck1CZyxcclxuICAgIHJNUCxcclxuICAgIGNpdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNpdGVcIiksICAgIC8vc2xpZGVyIHNob3dlZCBjaXRlXHJcbiAgICBzaG93ZWRDaXRlLFxyXG4gICAgcGFyZW50UGFkZGluZyxcclxuICAgIG51bWJlcixcclxuICAgIGNsZWFyQ2l0ZUludGVydmFsLFxyXG4gICAgbENhbGxQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FsbC1wb3B1cFwiKSwgICAgIC8vbG93ZXIgcG9wdXBcclxuICAgIGxQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubC1wb3B1cFwiKSwgICAgIC8vbG93ZXIgcG9wdXAgd2l0aCBiYWNrZ3JvdW5kIFxyXG4gICAgbFBvcHVwRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubC1wb3B1cC1mb3JtXCIpLCAgICAgIC8vbG93ZXIgcG9wdXBcclxuICAgIG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWVcIiksICAgICAvL3JlZ2lzdHIgaW5wdXRzXHJcbiAgICBlbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW1haWxcIiksXHJcbiAgICBzdWJqZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdWJqZWN0XCIpLFxyXG4gICAgY29tcGFueU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbXBhbnktbmFtZVwiKSxcclxuICAgIG1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21lc3NhZ2VcIiksXHJcbiAgICByZWdpc3RySW5wdXRzID0gW25hbWUsIGVtYWlsLCBzdWJqZWN0LCBjb21wYW55TmFtZSwgbWVzc2FnZV0sXHJcbiAgICBuYW1lQ2hlY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hbWUtY2hlY2tcIiksICAgICAvL2NoZWNrIHJlZ2lzdHIgaW5wdXRzXHJcbiAgICBlbWFpbENoZWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbWFpbC1jaGVja1wiKSxcclxuICAgIHN1YmplY3RDaGVjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3ViamVjdC1jaGVja1wiKSxcclxuICAgIGNvbXBhbnlOYW1lQ2hlY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbXBhbnktbmFtZS1jaGVja1wiKSxcclxuICAgIG1lc3NhZ2VDaGVjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVzc2FnZS1jaGVja1wiKSxcclxuICAgIHJlZ2lzdHJDaGVja0lucHV0cyA9IFtuYW1lQ2hlY2ssIGVtYWlsQ2hlY2ssIHN1YmplY3RDaGVjaywgY29tcGFueU5hbWVDaGVjaywgbWVzc2FnZUNoZWNrXVxyXG5cclxuYnVyZ2VyLmRhdGFzZXQuYWN0aXZlQ2hlY2sgPSBcImZhbHNlXCJcclxuXHJcbmJ1cmdlci5vbmNsaWNrID0gbWVudVxyXG5cclxuZnVuY3Rpb24gbWVudSAoKXtcclxuICBpZihidXJnZXIuZ2V0QXR0cmlidXRlKFwiZGF0YS1hY3RpdmUtY2hlY2tcIikgPT0gXCJmYWxzZVwiKXtcclxuICAgIGJ1cmdlci5kYXRhc2V0LmFjdGl2ZUNoZWNrID0gXCJ0cnVlXCJcclxuICAgIG1lbnVMaW5lLmNsYXNzTGlzdC5hZGQoXCJidXJnZXItbWVudS1hY3RpdmVcIilcclxuICAgIGJ1cmdlck1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxyXG4gIH1lbHNlIGlmKGJ1cmdlci5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFjdGl2ZS1jaGVja1wiKSA9PSBcInRydWVcIil7XHJcbiAgICBidXJnZXIuZGF0YXNldC5hY3RpdmVDaGVjayA9IFwiZmFsc2VcIlxyXG4gICAgbWVudUxpbmUuY2xhc3NMaXN0LnJlbW92ZShcImJ1cmdlci1tZW51LWFjdGl2ZVwiKVxyXG4gICAgYnVyZ2VyTWVudS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgIGJ1cmdlck1lbnUucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIilcclxuICB9XHJcbn1cclxuXHJcbnJlZ2lzdHJhdGlvbi5vbmNsaWNrID0gcG9wdXBPcGVuXHJcblxyXG5cclxuY2xvc2VQb3B1cC5mb3JFYWNoKChlbGVtZW50KT0+e1xyXG4gIGVsZW1lbnQub25jbGljayA9IHBvcHVwQ2xvc2VcclxufSlcclxuXHJcbmZ1bmN0aW9uIHBvcHVwT3BlbiAoZXZlbnQpe1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICBwb3B1cC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXHJcbiAgcG9wdXAuY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1wb3B1cFwiKVxyXG4gIGFjdGl2ZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY3RpdmUtcG9wdXBcIilcclxuICBhY3RpdmVQb3B1cC5vbmNsaWNrID0gY2hlY2tDbGlja1xyXG59XHJcblxyXG5mdW5jdGlvbiBwb3B1cENsb3NlICgpe1xyXG4gIGFjdGl2ZVBvcHVwLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxyXG4gIGFjdGl2ZVBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtcG9wdXBcIilcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tDbGljayAoZSl7XHJcbiAgaWYoIWFjdGl2ZVBvcHVwLmZpcnN0RWxlbWVudENoaWxkLmNvbnRhaW5zKGUudGFyZ2V0KSl7XHJcbiAgICBhY3RpdmVQb3B1cC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgIGFjdGl2ZVBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtcG9wdXBcIilcclxuICB9XHJcbn1cclxuXHJcbi8vcGVvcGxlIHNsaWRlciBcclxubGVmdC5vbmNsaWNrID0gcGVvcGxlTGVmdFxyXG5yaWdodC5vbmNsaWNrID0gcGVvcGxlUmlnaHRcclxuXHJcbmZ1bmN0aW9uIHBlb3BsZUxlZnQgKGV2ZW50KXtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgcGVvcGxlU2xpZGVyV2lkdGggPSBNYXRoLmZsb29yKHBlb3BsZVNsaWRlcldpZHRoKVxyXG4gIGlmKHBlb3BsZVNsaWRlci5zY3JvbGxMZWZ0ID09IDApe1xyXG4gICAgcGVvcGxlU2xpZGVyLnNjcm9sbChwZW9wbGVTbGlkZXJXaWR0aCwgMClcclxuICB9ZWxzZXtcclxuICAgIHBlb3BsZVNsaWRlci5zY3JvbGwocGVvcGxlU2xpZGVyLnNjcm9sbExlZnQtcGVvcGxlV2lkdGgsIDApXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBwZW9wbGVSaWdodCAoZXZlbnQpe1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICBwZW9wbGVTbGlkZXJXaWR0aCA9IE1hdGguZmxvb3IocGVvcGxlU2xpZGVyV2lkdGgpXHJcbiAgaWYocGVvcGxlU2xpZGVyLnNjcm9sbExlZnQgPT0gKHBlb3BsZXMubGVuZ3RoLTQpKnBlb3BsZVdpZHRoKXtcclxuICAgIHBlb3BsZVNsaWRlci5zY3JvbGwoMCwgMClcclxuICB9ZWxzZXtcclxuICAgIHBlb3BsZVNsaWRlci5zY3JvbGwocGVvcGxlU2xpZGVyLnNjcm9sbExlZnQrcGVvcGxlV2lkdGgsIDApXHJcbiAgfVxyXG59XHJcblxyXG5maWx0ZXIuZm9yRWFjaCgoZWxlbWVudCk9PntcclxuICBlbGVtZW50Lm9uY2xpY2sgPSBmaWx0cmF0aW9uXHJcbn0pXHJcblxyXG5mdW5jdGlvbiBmaWx0cmF0aW9uIChldmVudCl7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gIGZpbHRlck5hbWUgPSB0aGlzLnRleHRDb250ZW50XHJcbiAgZmlsdGVySW1hZ2VzLmZvckVhY2goKGltYWdlKT0+e1xyXG4gICAgaWYoZmlsdGVyTmFtZSA9PSBcIkFsbFwiIHx8IGltYWdlLmNsYXNzTGlzdC5jb250YWlucyhmaWx0ZXJOYW1lKSl7XHJcbiAgICAgIGltYWdlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuICAgIH1lbHNle1xyXG4gICAgICBpbWFnZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgIH0gICAgXHJcbiAgfSlcclxufVxyXG4gICAgXHJcbndpbmRvdy5vbndoZWVsID0gc2hvd0J1dHRvblxyXG5cclxuZnVuY3Rpb24gc2hvd0J1dHRvbiAoKXtcclxuICBvZmZzZXQgPSB3aW5kb3cucGFnZVlPZmZzZXRcclxuICBpZihvZmZzZXQgPiBibG9jay5vZmZzZXRIZWlnaHQpe1xyXG4gICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxyXG4gIH1cclxuICBpZihvZmZzZXQgPD0gYmxvY2sub2Zmc2V0SGVpZ2h0KXtcclxuICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICB9XHJcbn1cclxuXHJcbmJ1dHRvbi5vbmNsaWNrID0gc2Nyb2xsVXBcclxuZG93bi5vbmNsaWNrID0gc2Nyb2xsRG93blxyXG5cclxuZnVuY3Rpb24gc2Nyb2xsVXAgKCl7XHJcbiAgb2Zmc2V0ID0gd2luZG93LnBhZ2VZT2Zmc2V0IC0gMjBcclxuICB3aW5kb3cuc2Nyb2xsVG8oMCwgb2Zmc2V0KVxyXG4gIHNob3dCdXR0b24gKClcclxuICBpZihvZmZzZXQgPiBibG9jay5vZmZzZXRUb3Ape1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHNjcm9sbFVwICgpXHJcbiAgICB9LCAxKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNjcm9sbERvd24gKCl7XHJcbiAgb2Zmc2V0ID0gd2luZG93LnBhZ2VZT2Zmc2V0ICsgMjBcclxuICB3aW5kb3cuc2Nyb2xsVG8oMCwgb2Zmc2V0KVxyXG4gIHNob3dCdXR0b24gKClcclxuICBpZihvZmZzZXQgPCByZWdpc3RyRm9ybS5vZmZzZXRUb3Ape1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHNjcm9sbERvd24gKClcclxuICAgIH0sIDEpO1xyXG4gIH1cclxufVxyXG5cclxuLy9yZWFkIG1vcmUgcG9wdXBcclxuXHJcbnJlYWRNb3JlLmZvckVhY2goKGVsZW1lbnQpPT57XHJcbiAgZWxlbWVudC5vbmNsaWNrID0gcmVhZE1vcmVPcGVuXHJcbn0pXHJcblxyXG5mdW5jdGlvbiByZWFkTW9yZU9wZW4gKGUpe1xyXG4gIGUucHJldmVudERlZmF1bHQoKVxyXG4gIHBvcHVwUmVhZE1vcmUuaW5uZXJIVE1MID0gYFxyXG4gIDxkaXYgY2xhc3M9XCJyZWFkLW1vcmUtYmcgcG9wdXBcIj5cclxuICAgIDxhcnRpY2xlIGNsYXNzPVwicmVhZC1tb3JlLXBvcHVwIHBvcHVwLWZvcm1cIj5cclxuICAgICAgPHNwYW4gY2xhc3M9XCJjbG9zZS1wb3B1cFwiPjwvc3Bhbj5cclxuICAgICAgPGgyPnJlYWQgbW9yZTwvaDI+XHJcbiAgICAgIDxwPkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBVbGxhbSBkdWNpbXVzIGVhLCBlbGlnZW5kaSBjb25zZXF1YXR1ciBwZXJzcGljaWF0aXMsIGF0cXVlLCBkb2xvcnVtIHJlcHJlaGVuZGVyaXQgbmlzaSBuaWhpbCBpdGFxdWUgbmF0dXMuIEFsaWFzLCBwcm92aWRlbnQuIEFyY2hpdGVjdG8gcHJhZXNlbnRpdW0gZGlnbmlzc2ltb3MsIGlwc3VtIGR1Y2ltdXMgc29sdXRhIG51bGxhIGRvbG9yZSBkZXNlcnVudCBhbmltaSBtb2xlc3RpYWUgZXggYXQgZXNzZSB2aXRhZSwgbm9iaXMgZG9sb3Igc3VzY2lwaXQgbWF4aW1lLiBJdXN0byBhdXQgbm9zdHJ1bSBvYmNhZWNhdGkgZWFydW0gcGFyaWF0dXIgcXVpYnVzZGFtIGFzcGVyaW9yZXMhPC9wPlxyXG4gICAgICA8cD5Mb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gSXRhcXVlIG5lc2NpdW50IGVpdXMgZGVzZXJ1bnQgbWF4aW1lIGF1dGVtIGV4cGVkaXRhIHJlbSBtb2xsaXRpYSwgZXQgc29sdXRhIGVhcnVtLjwvcD5cclxuICAgICAgPHA+TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIFNhcGllbnRlIGNvbW1vZGkgbmVzY2l1bnQgcmVydW0sIGZ1Z2l0IGxhdWRhbnRpdW0gYWxpYXMgZG9sb3JlbXF1ZSBhbmltaSBsYWJvcmUgZXJyb3IgbWFnbmFtIHF1aWEgZmFjZXJlIGRvbG9yaWJ1cyBmYWNpbGlzIHF1b3MgdW5kZSBzdXNjaXBpdCBpdXJlIGFsaXF1aWQgb2RpdCBwb3NzaW11cywgYWxpcXVhbSwgcHJvdmlkZW50ISBWb2x1cHRhdGUsIGF0cXVlIHF1aWJ1c2RhbSBoYXJ1bSBxdWFzIGl1cmUsIGRlbGVjdHVzLjwvcD5cclxuICAgICAgPHA+TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIFBsYWNlYXQgbW9sZXN0aWFlIGl1c3RvIGF0cXVlIG9tbmlzIGxhYm9ydW0sIGVzdCB1dCBlbmltLCByYXRpb25lIG1hZ25pIHN1bnQgb2RpdCByZXByZWhlbmRlcml0IGZhY2lsaXM/IE5vc3RydW0gbW9kaSBkZWxlY3R1cyB2b2x1cHRhdGUgbWF4aW1lLCBvbW5pcyBvYmNhZWNhdGkuPC9wPlxyXG4gICAgICA8cD5Mb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gUmVpY2llbmRpcyBuZW1vIGFzc3VtZW5kYSBpc3RlIHJlY3VzYW5kYWUgdGVuZXR1ciBtb2xsaXRpYSB2b2x1cHRhdGlidXMgZXJyb3IgcXVpYSBvcHRpbyBpbmNpZHVudCBzYXBpZW50ZSBxdW9kIGRvbG9ydW0gdm9sdXB0YXRlbSBvZGlvIG5paGlsLCBhdCBjdXBpZGl0YXRlISBFbGlnZW5kaSwgcXVpcyBhcGVyaWFtIHNpdCwgaXN0ZSBldCBhZGlwaXNjaS4gRXhwbGljYWJvIHRlbXBvcmEgdml0YWUgcXVpYSBuYXR1cywgZWFxdWUgbGFib3JlIGl0YXF1ZSBxdWlkZW0sIGlwc3VtIG5vc3RydW0gc2l0IHJlcnVtIGFuaW1pIG1vZGkgYWQuIEFjY3VzYW50aXVtIHVuZGUgYmxhbmRpdGlpcywgZnVnaXQgcXVhZSBvZGlvIGRvbG9yIGZhY2lsaXMuIFF1aWRlbSBzZXF1aSB0ZW5ldHVyIHRlbXBvcmUsIG5hdHVzIGFzc3VtZW5kYSBhIGVpdXMgdmVsaXQgdm9sdXB0YXRlbSwgYWxpcXVpZCBzaXQgbm9zdHJ1bSBtb2xsaXRpYSBtYWlvcmVzIG5lc2NpdW50IHF1YXNpLCBkaXN0aW5jdGlvIGlwc3VtIHF1aSB2ZXJvIGVsaWdlbmRpIGN1bXF1ZS4gUmVwZWxsYXQgc29sdXRhIGFkIGF0cXVlIHZvbHVwdGFzIHNlcXVpIG9mZmljaWlzIGV0IGl0YXF1ZT8gUGxhY2VhdCB2b2x1cHRhdGVtLCBwb3JybywgcXVpIG1hZ25pIHJlcGVsbGVuZHVzIG9kaXQgaWxsdW0gbmVjZXNzaXRhdGlidXMgcmVydW0gb2ZmaWNpYSBxdWFlcmF0IHJlaWNpZW5kaXMgbW9sbGl0aWEgaXBzdW0gZWxpZ2VuZGkgZnVnaXQgcXVvIG9iY2FlY2F0aSBkaXN0aW5jdGlvIGRpY3RhIHRlbmV0dXIuIEJsYW5kaXRpaXMgcmVtIGF1dGVtIGZhY2VyZSBlc3QgZXNzZSBzaW50LCBxdWlzcXVhbSBxdWkgZW9zIGJlYXRhZSBtb2RpIGFjY3VzYW50aXVtIHBlcmZlcmVuZGlzIHZvbHVwdGF0aWJ1cyB2ZWwgaXVzdG8gZHVjaW11cyBub24gYWQsIHRvdGFtIGluY2lkdW50LiBFb3MgYXQgZGViaXRpcyBlYXF1ZSBmdWdhIGFtZXQgbW9sZXN0aWFlIGxhdWRhbnRpdW0sIHV0IHZpdGFlLCBkaWN0YSBpbmNpZHVudCB2ZWxpdCBleGNlcHR1cmkgcGxhY2VhdC48L3A+XHJcbiAgICAgIDxwPkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBTb2x1dGEsIGFsaWFzLjwvcD5cclxuICAgIDwvYXJ0aWNsZT5cclxuICA8L2Rpdj5gXHJcbiAgck1CZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVhZC1tb3JlLWJnXCIpLFxyXG4gIHJNUCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVhZC1tb3JlLXBvcHVwXCIpLFxyXG4gIGNsb3NlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNsb3NlLXBvcHVwXCIpXHJcbiAgck1CZy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXHJcbiAgck1CZy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXBvcHVwXCIpXHJcbiAgYWN0aXZlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFjdGl2ZS1wb3B1cFwiKVxyXG4gIGFjdGl2ZVBvcHVwLm9uY2xpY2sgPSBjaGVja0NsaWNrXHJcbiAgY2xvc2VQb3B1cC5mb3JFYWNoKChlbGVtZW50KT0+e1xyXG4gICAgZWxlbWVudC5vbmNsaWNrID0gcG9wdXBDbG9zZVxyXG4gIH0pXHJcbn1cclxuXHJcbnNsaWRlQnV0dG9uLmZvckVhY2goKGVsZW1lbnQpPT57XHJcbiAgZWxlbWVudC5vbmNsaWNrID0gc2hvd0NpdGVcclxufSlcclxuXHJcbmNpdGVbMF0uY2xhc3NMaXN0LmFkZChcInNob3dlZC1jaXRlXCIpXHJcbnNsaWRlQnV0dG9uWzBdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2MwMzAxY1wiXHJcbmNpdGVbMF0ucGFyZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHtjaXRlWzBdLmNsaWVudEhlaWdodH1weGBcclxuXHJcbmZvcihsZXQgaSA9IDA7IGkgPCBjaXRlLmxlbmd0aDsgaSsrKXtcclxuICBjaXRlW2ldLmRhdGFzZXQubnVtYmVyID0gaVxyXG4gIHNsaWRlQnV0dG9uW2ldLmRhdGFzZXQuZGlnaXQgPSBpXHJcbn1cclxuXHJcbmNpdGVJbnRlcnZhbCAoKVxyXG5mdW5jdGlvbiBjaXRlSW50ZXJ2YWwgKCl7XHJcbiAgY2xlYXJDaXRlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICBzaG93ZWRDaXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaG93ZWQtY2l0ZVwiKVxyXG4gICAgc2hvd2VkQ2l0ZS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd2VkLWNpdGVcIilcclxuICAgIGlmKHNob3dlZENpdGUubmV4dEVsZW1lbnRTaWJsaW5nID09IG51bGwpe1xyXG4gICAgICBzaG93ZWRDaXRlLnBhcmVudEVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LmFkZChcInNob3dlZC1jaXRlXCIpXHJcbiAgICAgIHBhcmVudFBhZGRpbmcgPSBzaG93ZWRDaXRlLnBhcmVudEVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xpZW50SGVpZ2h0XHJcbiAgICAgIG51bWJlciA9IHNob3dlZENpdGUucGFyZW50RWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW51bWJlclwiKVxyXG4gICAgfWVsc2V7XHJcbiAgICAgIHNob3dlZENpdGUubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5hZGQoXCJzaG93ZWQtY2l0ZVwiKVxyXG4gICAgICBwYXJlbnRQYWRkaW5nID0gc2hvd2VkQ2l0ZS5uZXh0RWxlbWVudFNpYmxpbmcuY2xpZW50SGVpZ2h0XHJcbiAgICAgIG51bWJlciA9IHNob3dlZENpdGUubmV4dEVsZW1lbnRTaWJsaW5nLmdldEF0dHJpYnV0ZShcImRhdGEtbnVtYmVyXCIpXHJcbiAgICB9XHJcbiAgICBzaG93ZWRDaXRlLnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7cGFyZW50UGFkZGluZ31weGBcclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjaXRlLmxlbmd0aDsgaSsrKXtcclxuICAgICAgaWYoc2xpZGVCdXR0b25baV0uZ2V0QXR0cmlidXRlKFwiZGF0YS1kaWdpdFwiKSA9PSBudW1iZXIpe1xyXG4gICAgICAgIHNsaWRlQnV0dG9uW2ldLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2MwMzAxY1wiXHJcbiAgICAgICAgaWYoaS0xIDwgMCl7XHJcbiAgICAgICAgICBzbGlkZUJ1dHRvbltzbGlkZUJ1dHRvbi5sZW5ndGgtMV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZGRkXCJcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgIHNsaWRlQnV0dG9uW2ktMV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZGRkXCJcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCA1MDAwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0NpdGUgKCl7XHJcbiAgY2xlYXJJbnRlcnZhbChjbGVhckNpdGVJbnRlcnZhbClcclxuICBzaG93ZWRDaXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaG93ZWQtY2l0ZVwiKVxyXG4gIHNob3dlZENpdGUuY2xhc3NMaXN0LnJlbW92ZShcInNob3dlZC1jaXRlXCIpXHJcbiAgc2xpZGVCdXR0b24uZm9yRWFjaCgoYnV0dG9uKT0+e1xyXG4gICAgaWYoc2hvd2VkQ2l0ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW51bWJlclwiKSA9PSBidXR0b24uZ2V0QXR0cmlidXRlKFwiZGF0YS1kaWdpdFwiKSl7XHJcbiAgICAgIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNkZGRcIlxyXG4gICAgfVxyXG4gIH0pXHJcbiAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNjMDMwMWNcIlxyXG4gIGNpdGUuZm9yRWFjaCgoY2l0ZXMpPT57XHJcbiAgICBpZihjaXRlcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLW51bWJlclwiKSA9PSB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtZGlnaXRcIikpe1xyXG4gICAgICBjb25zb2xlLmxvZyhcImFkYXNmXCIpXHJcbiAgICAgIGNpdGVzLmNsYXNzTGlzdC5hZGQoXCJzaG93ZWQtY2l0ZVwiKVxyXG4gICAgICBzaG93ZWRDaXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zaG93ZWQtY2l0ZVwiKVxyXG4gICAgICBzaG93ZWRDaXRlLnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7c2hvd2VkQ2l0ZS5jbGllbnRIZWlnaHR9cHhgXHJcbiAgICAgIGNpdGVJbnRlcnZhbCAoKVxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuXHJcbmxDYWxsUG9wdXAub25jbGljayA9IGxQb3B1cE9wZW5cclxuXHJcbmZ1bmN0aW9uIGxQb3B1cE9wZW4gKGV2ZW50KXtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgZm9yKGkgPSAwOyBpIDwgcmVnaXN0cklucHV0cy5sZW5ndGg7IGkrKyl7XHJcbiAgICBpZihyZWdpc3RySW5wdXRzW2ldLnZhbHVlICE9IFwiXCIpe1xyXG4gICAgICBsUG9wdXAuc3R5bGUuZGlzcGxheSA9IGBibG9ja2BcclxuICAgICAgcmVnaXN0cklucHV0c1tpXS5zdHlsZS5ib3JkZXJDb2xvciA9IGAjNTU1YFxyXG4gICAgICBjb25zb2xlLmxvZyhyZWdpc3RySW5wdXRzW2ldLnZhbHVlKVxyXG4gICAgICByZWdpc3RyQ2hlY2tJbnB1dHNbaV0udmFsdWUgPSByZWdpc3RySW5wdXRzW2ldLnZhbHVlXHJcbiAgICAgIGxQb3B1cC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXBvcHVwXCIpXHJcbiAgICAgIGFjdGl2ZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY3RpdmUtcG9wdXBcIilcclxuICAgICAgYWN0aXZlUG9wdXAub25jbGljayA9IGNoZWNrQ2xpY2tcclxuICAgIH1lbHNle1xyXG4gICAgICByZWdpc3RySW5wdXRzW2ldLnN0eWxlLmJvcmRlckNvbG9yID0gYCNjMDMwMWNgXHJcbiAgICAgIGxQb3B1cC5zdHlsZS5kaXNwbGF5ID0gYG5vbmVgXHJcbiAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbi8vYW5pbWF0aW9ucyBcclxud2luZG93Lm9ud2hlZWwgPSBjaGVja1Njcm9sbFxyXG5cclxuZnVuY3Rpb24gY2hlY2tTY3JvbGwgKCl7XHJcbiAgY29uc29sZS5sb2coTWF0aC5mbG9vcih3aW5kb3cucGFnZVlPZmZzZXQpKVxyXG4gIGlmKE1hdGguZmxvb3Iod2luZG93LnBhZ2VZT2Zmc2V0KSA+PSBhYm91dFVzVGV4dC5maXJzdEVsZW1lbnRDaGlsZC5vZmZzZXRUb3AtMzAwICYmIE1hdGguZmxvb3Iod2luZG93LnBhZ2VZT2Zmc2V0KSA8PSBhYm91dFVzVGV4dC5maXJzdEVsZW1lbnRDaGlsZC5vZmZzZXRUb3AtNTApe1xyXG4gICAgY29uc29sZS5sb2coXCIxM1wiKVxyXG4gICAgYWJvdXRVc1RleHQuZmlyc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LmFkZChcImFuaW1hdGlvbi1sZWZ0XCIpXHJcbiAgICBhYm91dFVzVGV4dC5sYXN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQoXCJhbmltYXRpb24tcmlnaHRcIilcclxuICB9XHJcbn1cclxuIl19
